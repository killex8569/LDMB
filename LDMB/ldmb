#!/bin/bash
set -euo pipefail

case "$1" in
    start)
        if [[ -x /opt/LDMB/LDMB.sh ]]; then
            cd /opt/LDMB
            exec ./LDMB.sh
        else
            echo "Error: /opt/LDMB/LDMB.sh not found or not executable"
            exit 1
        fi
        ;;
    update) cd /opt/LDMB ; ./update.sh ;;

    uninstall) cd /opt/LDMB ; ./uninstall ;;
    raid)
        if [ _$2 -eq 0 ]; then
        
    *)
        echo "Usage: ldmb start"
        exit 1
        ;;
esac

# Dans un premier temps, regarder si la valeur $2, $3 et $4 sont égals aux valeurs nécéssaire pour me permettre de tout automatiser.

# $2 = type de raid (0, 1, 5, 6, 10, etc...).
# $3 = Type de formatage.
# $4 = Point de montage (le liens qui sera utiliser pour le montage des éléments : /dev/md0 par défaut).
# $5 - $10 = Liste des disques.